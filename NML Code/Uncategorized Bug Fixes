Uncategorized Bug Fixes 

/// Jutsu Display Code (#60): Mitigation Display ///

&CMD`JUTSUDISPLAY #60=$+Jutsu *:@assert hasattr(%#/Dat`JutsuAttributes`[edit(%0,%b,-)])={@pemit %#=[prompt(Game)] You do not have the [caplist(%0,,,L)] Jutsu.};@eval [if(lt([ladd([extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),1,6,|)]|[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),15,1,|)],|)],[add(switch([extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),14,1,|)],1,6,2,10,3,14,4,19,5,24,6,30),[u(#1215/func`CatExpertSort,%0)])]),[set(%#,Dat`JutsuAttributes`[edit(%0,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),15,[add([extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),15,1,|)],[u(#1215/Func`CatExpertSort,%0)])],|)])],)] ;@pemit %#=[printf($:[ansi(hb,-=)]:^78s,[ansi(hb,\[)]%b[ansi(hw,+jutsu %0)]%b[ansi(hb,\])])]%r%r[printf($#3#&^78s,[ansi(hg,[extract([get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)])],12,1,|)])] [extract([get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)])],8,1,|)] \([extract([get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)])],11,1,|)]\))] %r[printf($#3#&^78s,[ansi(hc,Rank:)] [sqlite_query(Game, Select Rank From Templates Where ID="[extract([get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)])],7,1,|)]")] %t%t [ansi(hc,XP:)] [add(sqlite_query(Game, Select XP From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]"),[switch([extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),14,1,|)],1,0,2,1000,3,3000,4,6000,5,10000,6,15000)])])] %r%r [printf($#3#&^78s,[ansi(hc,Stamina:)] [ceil(sub(sqlite_query(Game, Select Stamina From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]"),mul(sqlite_query(Game, Select Stamina From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]"),[u(#253/func`efficiencymod,[edit(%0,%b,-)])])))] %t [ansi(hc,Chakra:)] [ceil(sub(sqlite_query(Game, Select Chakra From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]"),mul(sqlite_query(Game, Select Chakra From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]"),[u(#253/func`efficiencymod,[edit(%0,%b,-)])])))] %t [ansi(hc,AP:)] [if(match([sqlite_query(Game, Select Method From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")],Defend),0,[max(add(sqlite_query(Game, Select AP From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]"),add([u(#253/func`formmod,[edit(%0,%b,-)])],[if([extract(get(%#/Dat`Link),2,1,|)],1)])),[switch(1,[if(match([sqlite_query(Game, Select Category From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")],Taijutsu),1)],[switch(sqlite_query(Game, Select Rank From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]"),E,1,D,1,C,1,B,2,A,2,S,3)],[if(match([sqlite_query(Game, Select Category From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")],Ninjutsu),1)],[switch(sqlite_query(Game, Select Rank From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]"),E,2,D,2,C,3,B,3,A,4,S,4)])])])] \(Min:[if(match([sqlite_query(Game, Select Method From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")],Attack),switch(1,[if(match([sqlite_query(Game, Select Category From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")],Taijutsu),1)],[switch(sqlite_query(Game, Select Rank From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]"),E,1,D,1,C,1,B,2,A,2,S,3)],[if(match([sqlite_query(Game, Select Category From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")],Ninjutsu),1)],[switch(sqlite_query(Game, Select Rank From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]"),E,2,D,2,C,3,B,3,A,4,S,4)]),0)]\))] %r%r[printf($#3#&^78s,[ansi(hy,Proficiency Level:)] [switch([extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),14,1,|)],1,Novice,2,Practitioner,3,Adept,4,Skilled,5,Expert,6,Master)]\([extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),14,1,|)]\) %t [ansi(hy,Mastery Points:)] [extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),15,1,|)])] %r%r[printf($#3#&^78s,[ansi(hc,Precision:)] [extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),1,1,|)] \([u(#253/Func`PrecisionMinRoll,[edit(%0,%b,-)])]-[u(#253/Func`PrecisionMaxRoll,[edit(%0,%b,-)])]\) %t [ansi(hc,Potency:)] [extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),2,1,|)] \([if(match([sqlite_query(Game, Select Method From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")],Attack),[ceil(mul(u(#253/func`potencyminroll,[edit(%0,%b,-)]),[switch([sqlite_query(Game, Select Archetype From Templates where ID=[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)])],Taijutsu,1,Bukijutsu,1.5,Chakra Flow Taijutsu,1.75,Chakra Flow Bukijutsu,2,Ninjutsu,3,Seal,3,Calligraphy,2,Nintaijutsu,2.5,Combination,3.5,Tota,4)]))]-[ceil(mul(u(#253/func`potencymaxroll,[edit(%0,%b,-)]),[switch([sqlite_query(Game, Select Archetype From Templates where ID=[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)])],Taijutsu,1,Bukijutsu,1.5,Chakra Flow Taijutsu,1.75,Chakra Flow Bukijutsu,2,Ninjutsu,3,Seal,3,Calligraphy,2,Nintaijutsu,2.5,Combination,3.5,Tota,4)]))],-[add(ceil(mul([u(#253/Func`PotencyMod,%0)],add(1,mul([extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),2,1,|)],.1)))),[if(and(hasattr(%#/Dat`BodyMod),match(Kaguya,[get(%#/Dat`Clan)],|)),add(mul([after(extract(get(%#/Dat`ExpertiseList),[match(get(%#/Dat`ExpertiseList),Body Mod*,|)],1,|),^,1)],25),25),0)])])]\) %r[ansi(hc,Form:)] [extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),3,1,|)] \([u(#253/Func`FormMod,[edit(%0,%b,-)])] AP\) %t%t [ansi(hc,Efficiency:)] [extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),4,1,|)] \([ceil(mul(u(#253/Func`EfficiencyMod,[edit(%0,%b,-)]),100))]\%\) %r[ansi(hc,Effectiveness:)] [extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),5,1,|)] \([ceil(mul(u(#253/Func`EffectivenessMod,[edit(%0,%b,-)]),100))]\%\) %t [ansi(hc,Adaptability:)] [extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),6,1,|)] \([mul(u(#253/Func`AdaptabilityMod,[edit(%0,%b,-)]),100)]\%\))] %r%r[printf($#3#&^78s,[ansi(hr,Mitigation:)] [ceil(mul(add(get(%#/Dat`Mit),IF(hasattr(%#/Dat`TF),IF(Match([sqlite_query(Game, Select Mit From Transformations Where Name="[get(%#/Dat`TF)]")],Yes),[add(.2,mul([u(#253/Func`EffectivenessMod,%0)],.75))],[add(.1,mul([u(#253/Func`EffectivenessMod,%0)],.75))]),[add(.1,mul([u(#253/Func`EffectivenessMod,%0)],.75))])),100))]\% %t [ansi(hr,Penetration:)] [ceil(mul(u(#253/Func`PenMod),100))]\% %t [ansi(hr,Damage Reduction:)] [if(match([sqlite_query(Game, Select Method From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")],Attack),0,[if(match([sqlite_query(Game, Select Special From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")],Barrier,~),[ceil(mul(match(get(#254/Dat`JutsuRanks),[sqlite_query(Game, Select Rank From Templates where ID="[extract(get(%#/Dat`JutsuAttributes`%0),7,1,|)]")],|),ceil(mul(750,[u(#253/Func`DRMod)]))))],0)])])] %r%r[ansi(hc,Special Actions:)] [edit(sqlite_query(Game, Select Special From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]"),~,%b)]%r%r[ansi(hc,Description:)] [extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),9,1,|)] %r%r[printf($#3#&^78s,[ansi(hc,Method:)] [sqlite_query(Game, Select Method From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")] %t [ansi(hc,Type:)] [sqlite_query(Game, Select Type From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")] %t [ansi(hc,Range:)] [sqlite_query(Game, Select Range From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")] %r[ansi(hc,Category:)] [sqlite_query(Game, Select Category From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")] %t[ansi(hc,Archetype:)] [sqlite_query(Game, Select Archetype From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")] %r[ansi(hc,Access:)] [sqlite_query(Game, Select Author From Templates Where ID="[extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),7,1,|)]")] %t [ansi(hc,Author:)] [extract(get(%#/Dat`JutsuAttributes`[edit(%0,%b,-)]),13,1,|)])]%r%r[repeat([ansi(hb,-=)],39)]


&CMD`COPY #446=$+Copy *=*:@break [match([extract(get(%#/Dat`Control),2,1,|)],Yamanaka)]={@pemit %#=%r[prompt(Combat)] Your consciousness has been suppressed by that of [name([extract(get(%#/Dat`Control),1,1,|)])]. This prevents you from taking any action other than resisting or tensing. ;@remit %L=%r[Prompt(Combat)] Try as they might, the internal struggle over %N's consciousness remains futile under [name([extract(get(%#/Dat`Control),1,1,|)])]'s control. };@break hasattr(%#/Dat`Exposure)={@pemit %#=%r[prompt(Combat)] Your conciousness is no longer within your body. This prevents you from taking any actions outside of tensing. ;@remit %L=%r[Prompt(Combat)] Having projected their conciousness from their body, %N remains unconcious and exposed.};@break match(%#,[pmatch(%1)])={@pemit %#=%r[prompt(Combat)] You incapable of copying your own jutsu.};@assert gt(get(%#/dat`Vitality`Current),0)={@pemit %#=%r[prompt(Combat)] You are dead and can no longer attack.%r};@assert [member([get(%l/list`players)],%#)]={@pemit %#=%r%r[prompt(Combat)] You are not in order.%r};@assert eq([get(%l/player_turn)], [member([get(%l/list`players)], %#)])={@pemit %#=%r[prompt(Combat)] It is not your turn.%r};@assert nearby(%#,[pmatch(%0)])={@pemit %#=[prompt(Game)] The character you are trying to Copy from is not present in the room.};@assert match([regeditall(get(%#/dat`ExpertiseList), %\^%[012%],)],Copy,|)={@pemit %#=[prompt(Combat)] You do not have an appropriate Specialty needed to Copy.};@assert !hasattr(%#/Dat`JutsuAttributes`[edit(%1,%b,-)])={@pemit %#=[prompt(Game)] You have already copied the [caplist(%1,,,L)] jutsu.};@assert [if(match(get(%#/Dat`TF),Kokuuzou,|),1,[u(#1215/Func`ExpertSpecCopy,%1,%0)])]={@pemit %#=[prompt(Game)] You do not have the Specialties training necessary to copy the [caplist(%1,,,L)] jutsu.};@assert if(match(sqlite_query(Game, select Author from Templates where ID="[elements(get([pmatch(%0)]/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]"),General),1,match(sqlite_query(Game, select Author from Templates where ID="[elements(get([pmatch(%0)]/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]"),get(%#/Dat`Clan),|))={@pemit %#=[prompt(Game)] You are not part of a clan capable of copying the [caplist(%0,,,L)] jutsu. };@break if(match(extract(get(%#/Dat`PerceptionCheck),3,1,|),[pmatch(%1)]),1,0)={@pemit %#=%r[prompt(Combat)] [name(*%1)] is no where to be found.};@assert gte(get(%#/Dat`AP`Current),4)={@pemit %#=[prompt(Combat)] You do not have enough AP to Copy a jutsu.};@assert gte(get(%#/Dat`Stamina`Current),ceil(mul(get(%#/Dat`Stamina`Total),.01)))={@pemit %#=[prompt(Combat)] You do not have enough Stamina to Copy a jutsu.};@set %#=Dat`AP`Current:[sub(get(%#/Dat`AP`Current),4)];@set %#=Dat`Stamina`Current:[sub(get(%#/Dat`Stamina`Current),ceil(mul(get(%#/Dat`Stamina`Total),.01)))];@IFELSE match(get(%#/Dat`TFList),Sharingan,|)={@IF match(get(%#/Dat`TF),Sharingan,|)=@eval [if(eq(rand(3),2),[if([hasattr([pmatch(%0)]/Dat`JutsuAttributes`[edit(%1,%b,-)])],[set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[get([pmatch(%0)]/Dat`JutsuAttributes`[edit(%1,%b,-)])])][set(%#,Dat`CopyList:[insert(get(%#/Dat`CopyList),-1,[caplist(%1)],|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),14,6,|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),13,Copy,|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),15,0,|)])][remit(%L,[prompt(Copy)] %N's [switch(after(extract(get(%#/Dat`ExpertiseList),[match(get(%#/Dat`ExpertiseList),Copy*,|)],1,|),^),0,one tomoe,1,two tomoe,2,three tomoe)] Sharingan swirls rapidly around [poss(%#)] pupil as it successfully copies [name(*%0)]'s [caplist(%1)]!)],[pemit(%#,[Prompt(Copy)] [name(*%0)] does not have [caplist(%1)].)])],[Remit(%L,[prompt(Copy)] %N's [switch(after(extract(get(%#/Dat`ExpertiseList),[match(get(%#/Dat`ExpertiseList),Copy*,|)],1,|),^),0,one tomoe,1,two tomoe,2,three tomoe)] Sharingan loses focus and fails to copy [name(*%0)]'s [caplist(%1,,,L)].)])],@pemit %#=[prompt(Copy)] You do not have Sharingan activated.};@IFELSE match(get(%#/Dat`TFList),Kokuuzou,|)={@IF match(get(%#/Dat`TF),Kokuuzou,|)=@eval [if(eq(rand(3),2),[if([hasattr([pmatch(%0)]/Dat`JutsuAttributes`[edit(%1,%b,-)])],[set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[get([pmatch(%0)]/Dat`JutsuAttributes`[edit(%1,%b,-)])])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),1,1,|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),2,1,|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),3,1,|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),4,1,|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),5,1,|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),6,1,|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),14,1,|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),15,0,|)])][remit(%L,[prompt(Copy)] %N's [switch(after(extract(get(%#/Dat`ExpertiseList),[match(get(%#/Dat`ExpertiseList),Copy*,|)],1,|),^),0,vacuuous eyes fall upon,1,tenebrous gaze focuses on,2,abyssal glare divine)] [name(*%0)]%, instantly discerning the nature of their [caplist(%1)] jutsu!)],[pemit(%#,[Prompt(Copy)] [name(*%0)] does not have [caplist(%1)].)])],[Remit(%L,[prompt(Copy)] %N's [switch(after(extract(get(%#/Dat`ExpertiseList),[match(get(%#/Dat`ExpertiseList),Copy*,|)],1,|),^),0,vacuuous eyes fail,1,tenebrous gaze fails,2,abyssal glare fails)] to interpret the complexities of [name(*%0)]'s [caplist(%1,,,L)].)])],@pemit %#=[prompt(Copy)] You do not have Kokuuzou activated.};@IFELSE and([match(get(%#/Dat`ExpertiseList),Copy*,|)],[!match([get(%#/Dat`TF)],Sharingan,|)],[!match([get(%#/Dat`TF)],Kokuuzou,|)])={@eval [if(eq(rand(3),2),[if([hasattr([pmatch(%0)]/Dat`JutsuAttributes`[edit(%1,%b,-)])],[set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[get([pmatch(%0)]/Dat`JutsuAttributes`[edit(%1,%b,-)])])][set(%#,Dat`CopyList:[insert(get(%#/Dat`CopyList),-1,[caplist(%1)],|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),1,[switch(after(extract(get(%#/Dat`ExpertiseList),[match(get(%#/Dat`ExpertiseList),[switch([sqlite_query(Game, Select Archetype From Templates Where ID="[elements(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]")],Taijutsu,Martial Arts*,Bukijutsu,Armament*,Ninjutsu,Nature Transformation: [sqlite_query(Game, Select Type From Templates Where ID="[elements(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]")]*,Seal,Seal Manifestation*,Calligraphy,Calligraphy Conjuration)],|)],1,|),^),0,5,1,6,2,7)],|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),2,[switch(after(extract(get(%#/Dat`ExpertiseList),[match(get(%#/Dat`ExpertiseList),[switch([sqlite_query(Game, Select Archetype From Templates Where ID="[elements(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]")],Taijutsu,Martial Arts*,Bukijutsu,Armament*,Ninjutsu,Nature Transformation: [sqlite_query(Game, Select Type From Templates Where ID="[elements(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]")]*,Seal,Seal Manifestation*,Calligraphy,Calligraphy Conjuration)],|)],1,|),^),0,5,1,6,2,7)],|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),3,[switch(after(extract(get(%#/Dat`ExpertiseList),[match(get(%#/Dat`ExpertiseList),[switch([sqlite_query(Game, Select Archetype From Templates Where ID="[elements(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]")],Taijutsu,Martial Arts*,Bukijutsu,Armament*,Ninjutsu,Nature Transformation: [sqlite_query(Game, Select Type From Templates Where ID="[elements(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]")]*,Seal,Seal Manifestation*,Calligraphy,Calligraphy Conjuration)],|)],1,|),^),0,5,1,6,2,7)],|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),4,[switch(after(extract(get(%#/Dat`ExpertiseList),[match(get(%#/Dat`ExpertiseList),[switch([sqlite_query(Game, Select Archetype From Templates Where ID="[elements(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]")],Taijutsu,Martial Arts*,Bukijutsu,Armament*,Ninjutsu,Nature Transformation: [sqlite_query(Game, Select Type From Templates Where ID="[elements(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]")]*,Seal,Seal Manifestation*,Calligraphy,Calligraphy Conjuration)],|)],1,|),^),0,5,1,6,2,7)],|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),5,[switch(after(extract(get(%#/Dat`ExpertiseList),[match(get(%#/Dat`ExpertiseList),[switch([sqlite_query(Game, Select Archetype From Templates Where ID="[elements(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]")],Taijutsu,Martial Arts*,Bukijutsu,Armament*,Ninjutsu,Nature Transformation: [sqlite_query(Game, Select Type From Templates Where ID="[elements(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]")]*,Seal,Seal Manifestation*,Calligraphy,Calligraphy Conjuration)],|)],1,|),^),0,5,1,6,2,7)],|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),6,[switch(after(extract(get(%#/Dat`ExpertiseList),[match(get(%#/Dat`ExpertiseList),[switch([sqlite_query(Game, Select Archetype From Templates Where ID="[elements(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]")],Taijutsu,Martial Arts*,Bukijutsu,Armament*,Ninjutsu,Nature Transformation: [sqlite_query(Game, Select Type From Templates Where ID="[elements(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),7,|)]")]*,Seal,Seal Manifestation*,Calligraphy,Calligraphy Conjuration)],|)],1,|),^),0,5,1,6,2,7)],|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),13,Copy,|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),14,6,|)])][set(%#,Dat`JutsuAttributes`[edit(%1,%b,-)]:[replace(get(%#/Dat`JutsuAttributes`[edit(%1,%b,-)]),15,0,|)])][remit(%L,[prompt(Copy)] %N's concerted observations of [name(*%0)] has succeeded in allowing them to copy the [caplist(%1)] jutsu!)],[pemit(%#,[Prompt(Copy)] [name(*%0)] does not have [caplist(%1)].)])],[remit(%L,[prompt(Copy)] %N's concerted observations of [name(*%0)] has failed to copy the [caplist(%1)] jutsu.)])],@pemit %#=[prompt(Copy)] You do not have an appropriate Transformation activated.}



